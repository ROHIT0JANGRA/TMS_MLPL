@model IEnumerable<CodeLock.Models.MasterCity>
@{
    ViewBag.Title = "City List";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@using (Html.BeginForm("Index", "City", FormMethod.Post, new { @class = "j-forms", @enctype = "multipart/form-data" }))
{
 <div class="widget-wrap">
    <div class="row">
        <div class="col-sm-4">
            <div class="form-group">
                State
                <div class="select">
                    @Html.DropDownList("StateId", new SelectList(ViewBag.StateList, "Value", "Name"), "Select State", new { @class = "form-control", @id = "StateId" })
                    <i></i>
                </div>
            </div>
        </div>
            <div class="col-sm-4">
                <div class="form-group">
                    City Name
                    <div class="input">
                        @Html.TextBox("CityName", null, new { @class = "form-control" })
                    </div>
                </div>
            </div>
    </div>
     <div class="form-footer">
         <button type="submit" class="btn btn-success primary-btn" tabindex="0">Search</button>
     </div>
     <div class="page-separator">City Details</div>
     <div class="widget-wrap material-table-widget">
         <table id="dtCity">
             <thead>
                 <tr>
                     <th>
                         @Html.DisplayNameFor(model => model.CityName)
                     </th>
                     <th>
                         @Html.DisplayNameFor(model => model.CountryName)
                     </th>
                     <th>
                         @Html.DisplayNameFor(model => model.ZoneName)
                     </th>
                     <th>
                         @Html.DisplayNameFor(model => model.StateName)
                     </th>
                     <th data-hide="phone">
                         @Html.DisplayNameFor(model => model.IsActive)
                     </th>
                     <th class="td-center" data-sort-ignore="true" data-hide="phone">Action</th>
                     <th style="display:none">
                         @Html.DisplayNameFor(model => model.IsPermitRequired)
                     </th>
                     <th style="display:none">
                         @Html.DisplayNameFor(model => model.IsOdaApplicable)
                     </th>
                     <th style="display:none">
                         @Html.DisplayNameFor(model => model.OdaKm)
                     </th>
                     <th style="display:none">
                         @Html.DisplayNameFor(model => model.EntryByName)
                     </th>
                     <th style="display:none">
                         @Html.DisplayNameFor(model => model.EntryDate)
                     </th>
                     <th style="display:none">
                         @Html.DisplayNameFor(model => model.UpdateByName)
                     </th>
                     <th style="display:none">
                         @Html.DisplayNameFor(model => model.UpdateDate)
                     </th>
                 </tr>
             </thead>
             <tbody>
                 @foreach (var item in Model)
                 {
                     <tr>
                         <td>
                             @Html.DisplayFor(modelItem => item.CityName)
                         </td>
                         <td>
                             @Html.DisplayFor(modelItem => item.CountryName)
                         </td>
                         <td>
                             @Html.DisplayFor(modelItem => item.ZoneName)
                         </td>
                         <td>
                             @Html.DisplayFor(modelItem => item.StateName)
                         </td>
                         <td>
                             @Html.Label("", item.IsActive == true ? "Yes" : "No", new { @class = item.IsActive == true ? "label label-success" : "label label-default" })
                         </td>
                         <td class="td-center">
                             <div class="btn-toolbar" role="toolbar">
                                 <div class="btn-group" role="group">
                                     <a class="btn btn-default btn-sm m-user-edit" href="@Url.Action("Update", new { id = item.CityId })"><span class="zmdi zmdi-edit"></span></a>
                                     <a class="btn btn-default btn-sm m-user-edit" href="@Url.Action("View", new { id = item.CityId })"><span class="fa fa-file"></span></a>
                                 </div>
                             </div>
                         </td>
                         <td style="display:none">
                             @Html.Label("", item.IsPermitRequired == true ? "Yes" : "No", new { @class = item.IsPermitRequired == true ? "label label-success" : "label label-default" })
                         </td>
                         <td style="display:none">
                             @Html.Label("", item.IsOdaApplicable == true ? "Yes" : "No", new { @class = item.IsOdaApplicable == true ? "label label-success" : "label label-default" })
                         </td>
                         <td style="display:none">
                             @Html.DisplayFor(modelItem => item.OdaKm)
                         </td>
                         <td style="display:none">
                             @Html.DisplayFor(modelItem => item.EntryByName)
                         </td>
                         <td style="display:none">
                             @item.EntryDate.ToDisplayDateTime()
                         </td>
                         <td style="display:none">
                             @Html.DisplayFor(modelItem => item.UpdateByName)
                         </td>
                         <td style="display:none">
                             @item.UpdateDate.ToDisplayDateTime()
                         </td>
                     </tr>
                 }
             </tbody>
         </table>
     </div>

  </div>
 }


        <script>
            $(document).ready(function () {
                SetPageLoad('City', 'List', 'filter', 'Add New', '@Url.Action("Insert")');
                LoadDataTable('dtCity', true, true, true);
            });
        </script>

